<div id="resource-document-panel">

  <mat-toolbar class="mat-elevation-z2" style="min-height: 50px !important;">
    <mat-toolbar-row class="smp-toolbar-row"
                     style="justify-content: space-between;min-height: 50px !important;">

      <button id="validateResource_id" mat-raised-button
              color="primary"
              matTooltip="{{ 'resource.document.panel.tooltip.validate' | translate }}"
              [disabled]="emptyDocument"
              (click)="onDocumentValidateButtonClicked()"
      >
        <mat-icon>check_circle</mat-icon>
        <span>{{ "resource.document.panel.button.validate" | translate }}</span>
      </button>
      <button id="GenerateResource_id" mat-raised-button
              color="primary"
              matTooltip="{{ 'resource.document.panel.tooltip.generate' | translate }}"

              (click)="onGenerateButtonClicked()"
      >
        <mat-icon>add_circle</mat-icon>
        <span>{{ "resource.document.panel.button.generate" | translate }}</span>
      </button>
      <button id="documentWizard_id" mat-raised-button
              color="primary"
              matTooltip="{{ 'resource.document.panel.tooltip.document.wizard' | translate }}"
              *ngIf="showWizardDialog"
              (click)="onShowDocumentWizardDialog()"
      >
        <mat-icon>code_block</mat-icon>
        <span>{{ "resource.document.panel.button.document.wizard" | translate }}</span>
      </button>
      <span style="flex: 1 1 auto;"></span>

      <div [formGroup]="documentForm"
           style="float: right;  vertical-align:middle;display: flex;align-items: center;justify-content: center; gap:0.4em;padding-right: 10px">
        <span style="font-size: 0.8em">{{ "resource.document.panel.label.show.version" | translate }}</span>
        <select matNativeControl
                style="width: 100px; border-bottom: grey solid 1px"
                placeholder="{{ 'resource.document.panel.placeholder.version' | translate }}"
                matTooltip="{{ 'resource.document.panel.tooltip.version' | translate }}"
                formControlName="payloadVersion"
                id="document version_id"
                (change)="onSelectionDocumentVersionChanged()"
        >
          <option *ngFor="let version of getDocumentVersions"
                  [value]="version"
          >
            {{ version }}
          </option>
        </select>

        <span style="font-size: 0.8em">{{ "resource.document.panel.label.created.on" | translate }}</span>
        <input id="payloadCreatedOn_id"
               matInput [ngxMatDatetimePicker]="payloadCreatedOnPicker"
               formControlName="payloadCreatedOn"
               readonly>
        <mat-datepicker-toggle matSuffix [for]="payloadCreatedOnPicker"
                               style="visibility: hidden"></mat-datepicker-toggle>
        <ngx-mat-datetime-picker #payloadCreatedOnPicker [showSpinners]="true"
                                 [showSeconds]="false"
                                 [hideTime]="false"></ngx-mat-datetime-picker>

      </div>
    </mat-toolbar-row>
  </mat-toolbar>

  <div class="panel" [formGroup]="documentForm"
       style="display: flex;flex-direction: row;flex-grow: 1; ">

    <div
      style="display:block; overflow: auto;flex: 2;align-self: stretch; flex-direction: column;border: ridge 3px #b0bec5"
      (click)="onEditPanelClick()"
    >
      <smp-editor #smpDocumentEditor formControlName="payload"
                  ngDefaultControl></smp-editor>
    </div>
    <document-properties-panel style="min-height: 0; overflow: auto"
                               formControlName="properties"
                               ngDefaultControl></document-properties-panel>
  </div>

  <mat-toolbar class="mat-elevation-z2"
               style="flex-grow: 0;">
    <mat-toolbar-row class="smp-toolbar-row">
      <button id="back_id" mat-raised-button color="primary"
              (click)="onBackButtonClicked()">
        <mat-icon>arrow_circle_left</mat-icon>
        <span>{{ "resource.document.panel.button.back" | translate }}</span>
      </button>
      <button id="cancel_id" mat-raised-button color="primary"
              [disabled]="cancelButtonDisabled"
              (click)="onDocumentResetButtonClicked()">
        <mat-icon>cancel</mat-icon>
        <span>{{ "resource.document.panel.button.cancel" | translate }}</span>
      </button>
      <button id="saveResource_id" mat-raised-button
              color="primary"
              matTooltip="{{ 'resource.document.panel.tooltip.save' | translate }}"
              [disabled]="saveButtonDisabled"
              (click)="onSaveButtonClicked()"
      >
        <mat-icon>save</mat-icon>
        <span>{{ "resource.document.panel.button.save" | translate }}</span>
      </button>
    </mat-toolbar-row>
  </mat-toolbar>
</div>
